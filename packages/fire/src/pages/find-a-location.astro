---
import { getStates } from "../data/utils";
import PageLayout from "../layouts/Page.astro";

const states = await getStates(true);
---

<PageLayout title="Find a Location - 1ProFire">
  <Fragment slot="title">
    <span>Find a Location</span>
  </Fragment>
  {states.map(state => (
    <div class="text-md">
      <h2><a href={state.url}>{state.name}</a></h2>
      <small class="">We support all of Southern California</small>
      <div class="grid grid-cols-2 gap-1 not-prose text-center mt-4 pt-4 border-t-2 border-gray-400">
        {state.counties?.map((item) => (
          <div class="py-2">
            <h3>
              <a class="text-md" href={item.url}>{item.name} County</a>
            </h3>
            <a class="bg-primary-600 text-primary-100 hover:bg-blue-700 hover:text-white focus:outline-none focus:ring-4 focus:ring-gray-200 rounded-lg text-sm p-1.5 inline-flex items-center" href={`tel:${item.phone}`}>{item.phone}</a>
          </div>
        ))}
      </div>
    </div>
  ))}
</PageLayout>
