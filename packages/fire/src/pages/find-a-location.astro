---
import { getStates } from "../data/utils";
import { CountyPhoneList, GradientText } from "@1pro/components";
import PageLayout from "../layouts/Page.astro";

const states = await getStates(true);
---

<PageLayout title="Find a Location - 1ProFire" hideCTA>
  <Fragment slot="title">
    <span>Find a</span><GradientText>Location</GradientText>
  </Fragment>
  {states.map(state => (
    <div class="text-md">
      <h2><a href={state.url}>{state.name}</a></h2>
      {state.abbreviation === 'CA' && (
        <small class="text-sm">We support all of Southern California</small>
      )}
      <CountyPhoneList counties={state.counties!} />
    </div>
  ))}
</PageLayout>
