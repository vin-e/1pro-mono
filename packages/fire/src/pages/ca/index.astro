---
import { Icon } from "astro-icon";
import { CTALink, GradientText } from "@1pro/components";
import { getStates } from "../../data/utils";
import PageLayout from "../../layouts/Page.astro"

const states = await getStates(true, false);
const ca = states.find((state) => state.name === "California");
---

<PageLayout title="California Fire Protections - 1ProFire">
  <Fragment slot="title">
    California <GradientText>Fire Protection Services</GradientText>
  </Fragment>
  <Fragment slot="header-cta">
    <CTALink href={`tel:+1${ca!.phone}`} text={`Call Today at ${ca!.phone}`} color="amber" />
  </Fragment>

  <p>With 1ProFire, you can rest assured that you're getting the best fire protection services available. Whether you need a fire hydrant, or just need some extra help keeping your fire extinguishers up to code, 1ProFire has you covered.</p>
  <p>We have technicians that can go nearly anywhere in Southern California, so no matter where you live can go to you! And our friendly staff is always ready to help with whatever your needs may be. Just give us a call today!</p>

  <div class="container sm:contain">
    <h2 class="text-2xl text-center font-bold text-slate-600">Counties We Serve Today!</h2>
    <ul class="list-none text-sm divide-y divide-slate-200 p-0">
      {ca?.counties?.map((county) => (
        <li class="grid grid-cols-2 gap-4 pt-4 pb-2">
          <a href={county.url} class="md:text-right no-underline">{county.name} County</a>
          <a href={`tel:+1${county.phone}`} class="text-right md:text-left text-slate-600 no-underline">
            <Icon name="tabler:phone" class="w-6 h-6 inline-block" optimize={false} /> {county.phone}
          </a>
        </li>
      ))}
    </ul>
  </div>
</PageLayout>